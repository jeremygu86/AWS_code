"use strict";define("bundles/ondemand/components/reading/ReadingItem",["require","exports","module","react-with-addons","bundles/content-feedback/constants/ItemTypes","bundles/ondemand/components/item/LightItemLayout","bundles/ondemand/components/reading/Reading","pages/open-course/common/models/itemMetadata","js/lib/metatags","pages/open-course/data/supplementData"],function(require,exports,module){var e=require("react-with-addons"),t=require("bundles/content-feedback/constants/ItemTypes"),a=require("bundles/ondemand/components/item/LightItemLayout"),n=require("bundles/ondemand/components/reading/Reading"),s=require("pages/open-course/common/models/itemMetadata"),i=require("js/lib/metatags"),o=require("pages/open-course/data/supplementData"),d=e.createClass({displayName:"ReadingItem",propTypes:{itemMetadata:e.PropTypes.instanceOf(s).isRequired},getInitialState:function getInitialState(){return{readingCml:null}},componentDidMount:function componentDidMount(){this.fetchData(),i.setCommon({title:this.props.itemMetadata.getName()+" | Coursera",description:this.props.itemMetadata.get("lesson.module.description"),pageHref:window.location.href})},fetchData:function fetchData(){var e=this;o(this.props.itemMetadata).then(function(t){e.setState({readingCml:t})}).done()},render:function render(){return e.createElement("div",{className:"rc-ReadingItem"},e.createElement(a,{itemMetadata:this.props.itemMetadata,itemType:t.Reading,isCard:!0},this.state.readingCml&&e.createElement(n,{itemMetadata:this.props.itemMetadata,readingCml:this.state.readingCml})))}});module.exports=d});